# Домашнее задание к занятию «Безопасность в облачных провайдерах»  

Используя конфигурации, выполненные в рамках предыдущих домашних заданий, нужно добавить возможность шифрования бакета.

---
## Задание 1. Yandex Cloud   

1. С помощью ключа в KMS необходимо зашифровать содержимое бакета:

 - создать ключ в KMS;
 - с помощью ключа зашифровать содержимое бакета, созданного ранее.
2. (Выполняется не в Terraform)* Создать статический сайт в Object Storage c собственным публичным адресом и сделать доступным по HTTPS:

 - создать сертификат;
 - создать статическую страницу в Object Storage и применить сертификат HTTPS;
 - в качестве результата предоставить скриншот на страницу с сертификатом в заголовке (замочек).

Полезные документы:

- [Настройка HTTPS статичного сайта](https://cloud.yandex.ru/docs/storage/operations/hosting/certificate).
- [Object Storage bucket](https://registry.terraform.io/providers/yandex-cloud/yandex/latest/docs/resources/storage_bucket).
- [KMS key](https://registry.terraform.io/providers/yandex-cloud/yandex/latest/docs/resources/kms_symmetric_key).

### Решение задания 1
Согласно заданию подготовил манифесты тераформ

провайдер
https://github.com/ekhristin/netology/blob/main/CLOUD_HW_03/terraform/provider.tf

бакет
https://github.com/ekhristin/netology/blob/main/CLOUD_HW_03/terraform/main.tf

переменные 
https://github.com/ekhristin/netology/blob/main/CLOUD_HW_03/terraform/variables.tf

выводы 
https://github.com/ekhristin/netology/blob/main/CLOUD_HW_03/terraform/output.tf

Запускаю манифесты 
![](Pasted%20image%2020251015172335.png)
![](Pasted%20image%2020251015172404.png)
проверяю работу бакета обращаюсь к картинке напрямик.
![](Pasted%20image%2020251015172453.png)
для проверки работы картинки заранее написал простую веб страницу в которую скопировал ссылку из бакета с ключом доступа для просмотра картинки
![](Pasted%20image%2020251015172945.png)
Как видим картинка отображается все работает как нужно.
### Решение задания 2
Для начала создаем сертификат в манеджере сертификатов
	![](Pasted%20image%2020251015221644.png)
![](Pasted%20image%2020251015215129.png)
Для подтверждения отключаем шифрование после создаем папки в бакете согласно требованию валидации
![](Pasted%20image%2020251015230714.png)
и загружаем подготовленный заранее файл с содержимым указаным в проверке. после ждем завершения процесса валидации.
![](Pasted%20image%2020251015230845.png)

Далее через консоль управления бакетом загружаем подготовленную страницу.
потом переходим в настройки
и включаем хостинг указываем нашу страницу
![](Pasted%20image%2020251015215909.png)
после переходим в безопасность и во вкладке https настраиваем и добавляем наш сертификат.
проверяем открытие страницы
![](Pasted%20image%2020251015231602.png)

### Правила приёма работы

Домашняя работа оформляется в своём Git репозитории в файле README.md. Выполненное домашнее задание пришлите ссылкой на .md-файл в вашем репозитории.
Файл README.md должен содержать скриншоты вывода необходимых команд, а также скриншоты результатов.
Репозиторий должен содержать тексты манифестов или ссылки на них в файле README.md.
